{
  "entities": {
    "Product": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Product",
      "type": "object",
      "description": "Represents a product in the catalog.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the product." },
        "name": { "type": "string", "description": "Name of the product." },
        "description": { "type": "string", "description": "Detailed description of the product." },
        "price": { "type": "number", "description": "Price of the product." },
        "imageUrl": { "type": "string", "description": "URL of the product image.", "format": "uri" },
        "categoryId": { "type": "string", "description": "Reference to Category." }
      },
      "required": ["id", "name", "description", "price", "imageUrl", "categoryId"]
    },
    "Category": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Category",
      "type": "object",
      "description": "Represents a category for products.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the category." },
        "name": { "type": "string", "description": "Name of the category." },
        "description": { "type": "string", "description": "Description of the category." }
      },
      "required": ["id", "name"]
    },
    "Customer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Customer",
      "type": "object",
      "description": "Represents a customer profile.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the client." },
        "name": { "type": "string", "description": "Name of the client." },
        "email": { "type": "string", "description": "Email address of the client.", "format": "email" },
        "phone": { "type": "string", "description": "Phone number of the client." },
        "address": { "type": "string", "description": "Billing address of the client." },
        "purchaseHistory": { "type": "string", "description": "Summary of purchase history." }
      },
      "required": ["id", "name", "phone"]
    },
    "Invoice": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Invoice",
      "type": "object",
      "description": "Represents an invoice.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the invoice." },
        "customerId": { "type": "string", "description": "Reference to Customer." },
        "invoiceNumber": { "type": "string", "description": "The unique number for the invoice." },
        "date": { "type": "string", "description": "Date the invoice was issued.", "format": "date-time" },
        "status": { "type": "string", "enum": ["Paid", "Pending", "Overdue"] },
        "total": { "type": "number", "description": "Total amount of the invoice." }
      },
      "required": ["id", "customerId", "invoiceNumber", "date", "status", "total"]
    },
    "Store": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Store",
      "type": "object",
      "description": "Represents a user's store.",
      "properties": {
        "id": { "type": "string", "description": "Unique identifier for the store." },
        "name": { "type": "string", "description": "Name of the store." }
      },
      "required": ["id", "name"]
    },
    "Unit": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Unit",
      "type": "object",
      "description": "Represents a unit of measurement for products.",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string", "description": "Name of the unit (e.g., 'kg', 'item')." },
        "defaultQuantity": { "type": "number", "description": "Default conversion quantity." }
      },
      "required": ["id", "name", "defaultQuantity"]
    }
  },
  "auth": {
    "providers": ["anonymous", "google.com", "password"]
  },
  "firestore": {
    "structure": [
      {
        "path": "/products/{productId}",
        "definition": {
          "entityName": "Product",
          "schema": { "$ref": "#/entities/Product" },
          "description": "Global product catalog."
        }
      },
      {
        "path": "/categories/{categoryId}",
        "definition": {
          "entityName": "Category",
          "schema": { "$ref": "#/entities/Category" },
          "description": "Global product categories."
        }
      },
      {
        "path": "/users/{userId}",
        "definition": {
            "entityName": "User",
            "schema": {
                "type": "object",
                "properties": {
                    "email": {"type": "string"}
                }
            },
            "description": "User profile data."
        }
      },
      {
        "path": "/users/{userId}/clients/{clientId}",
        "definition": {
          "entityName": "Customer",
          "schema": { "$ref": "#/entities/Customer" },
          "description": "User-specific customer data."
        }
      },
      {
        "path": "/users/{userId}/invoices/{invoiceId}",
        "definition": {
          "entityName": "Invoice",
          "schema": { "$ref": "#/entities/Invoice" },
          "description": "User-specific invoice data."
        }
      },
      {
        "path": "/users/{userId}/stores/{storeId}",
        "definition": {
          "entityName": "Store",
          "schema": { "$ref": "#/entities/Store" },
          "description": "User-specific store data."
        }
      },
      {
        "path": "/users/{userId}/units/{unitId}",
        "definition": {
          "entityName": "Unit",
          "schema": { "$ref": "#/entities/Unit" },
          "description": "User-specific units of measurement."
        }
      },
      {
        "path": "/users/{userId}/settings/{settingId}",
        "definition": {
            "entityName": "Settings",
            "schema": {
                "type": "object",
                "properties": {}
            },
            "description": "User-specific application settings."
        }
      }
    ]
  }
}
